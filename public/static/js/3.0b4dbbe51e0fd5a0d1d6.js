webpackJsonp([3],{J5y5:function(e,t){},tcnj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),o=a.n(n),l=a("Prqi"),i=a("W7vi"),s=a("Ki8f"),c={name:"List",data:function(){return{msg:"shop",multipleSelection:[]}},computed:o()({},Object(s.c)(["adminModel","goodModel"])),methods:o()({handleDelete:function(e){var t=this;l.a.ajaxPost(i.a.goodsDelete,[e.id],function(a){if(201===a.data.status){var n=t.goodModel.tableData.indexOf(e);t.goodModel.tableData.splice(n,1),t.$message.success("删除成功")}})},handleEdit:function(e){this.$router.push({path:"/admin/form",query:{id:e.id}})},getIdList:function(e){for(var t=[],a=0;a<e.multipleSelection.length;a++)t.push(e.multipleSelection[a].id);return t},batchDelete:function(){var e=this,t=this.$options.methods.getIdList(this);l.a.ajaxPost(i.a.goodsDelete,t,function(t){if(201===t.data.status){for(var a=0;a<e.multipleSelection.length;a++){var n=e.goodModel.tableData.indexOf(e.multipleSelection[a]);e.goodModel.tableData.splice(n,1)}e.$message.success("删除成功")}})},handleSelectionChange:function(e){this.multipleSelection=e},handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){var t=this;this.goodModel.curpage=e,l.a.ajaxGet(i.a.goodsList+"?p="+this.goodModel.curpage,function(e){t.goodModel.tableData=e.data}),console.log("当前页: "+e)}},Object(s.b)(["isLogin","clearAdmin","selectTableData","selectTotal"])),created:function(){this.$store.dispatch("selectTableData"),this.$store.dispatch("selectTotal")}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list"},[a("h3",[e._v(e._s(e.msg))]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.goodModel.tableData,stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品名称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"商品价格",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建日期",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"148"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"","current-page":e.goodModel.curpage,"page-size":10,layout:"prev, pager, next, jumper",total:e.goodModel.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.goodModel,"curpage",t)},"update:current-page":function(t){return e.$set(e.goodModel,"curpage",t)}}})],1),e._v(" "),a("el-button",{attrs:{type:"warning",plain:""},on:{click:e.batchDelete}},[e._v("批量删除")])],1)},staticRenderFns:[]};var d=a("C7Lr")(c,r,!1,function(e){a("J5y5")},"data-v-d5256cae",null);t.default=d.exports}});